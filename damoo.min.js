/*! Damoo v1.2.1 | Copyright (c) 2015 James Liu | Released under the MIT license */
;(function(d){var b=function(a,e,c){if(!(this instanceof b))return new b(a,e,c);this.parent=b.dom.getElementById(a);this.canvas=b.dom.createElement("canvas");this.canvas.id=e;this.canvas.width=this.parent.offsetWidth;this.canvas.height=this.parent.offsetHeight;this.canvas.style.display="block";this.canvas.style.backgroundColor="transparent";this.canvas.style.position="relative";this.canvas.style.left=0;this.canvas.style.top=0;this.canvas.style.zIndex=99999;this.ctx=this.canvas.getContext("2d");this.rows=
c;this.font=new g(this.canvas.height/this.rows,"Arial");this.thread=new f};b.dom=d.document;var h=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||d.msRequestAnimationFrame||d.oRequestAnimationFrame||function(a){setTimeout(a,17)};b.prototype.show=function(){this.parent.appendChild(this.canvas)};b.prototype.hide=function(){this.parent.removeChild(this.canvas)};b.prototype.emit=function(a){var e=b.dom.createElement("canvas"),c=e.getContext("2d");e.width=this.font.size*
a.text.length;e.height=1.2*this.font.size;c.font=this.font.value;c.fillStyle="#fff";c.fillStyle=a.color;c.textAlign="start";c.textBaseline="top";c.fillText(a.text,0,0);this.thread.push({canvas:e,speed:1.2*Math.sqrt(a.text.length),offset:{x:this.canvas.width,y:null}})};b.prototype.clear=function(){this.thread.empty()};b.prototype.start=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var a=0;a<this.thread.length;a++){var b=this.thread.get(a).offset.x+.5|0,c;c=null==this.thread.get(a).offset.y?
this.thread.get(a).offset.y=this.font.size*Math.floor(Math.random()*this.rows):this.thread.get(a).offset.y;this.ctx.drawImage(this.thread.get(a).canvas,b,c);this.thread.get(a).offset.x-=this.thread.get(a).speed;b<=-this.thread.get(a).canvas.width&&this.thread.remove(a)}h(function(a){return function(){a.start()}}(this))};var g=function(a,b){this.size=a;this.family=b};Object.defineProperty(g.prototype,"value",{get:function(){return this.size+"px "+this.family}});var f=function(){this.memory=[]};f.prototype.push=
function(a){this.memory.push(a)};f.prototype.get=function(a){return this.memory[a]};f.prototype.remove=function(a){this.memory.splice(a,1)};f.prototype.empty=function(){this.memory=[]};Object.defineProperty(f.prototype,"length",{get:function(){return this.memory.length}});d.Damoo=b})(window);