/*! Damoo v1.2.3 | Copyright (c) 2015 James Liu | Released under the MIT license */
;(function(e){var b=function(a,c,d){if(!(this instanceof b))return new b(a,c,d);this.parent=b.dom.getElementById(a);this.parent.style.position="relative";this.canvas=b.dom.createElement("canvas");this.canvas.id=c;this.canvas.width=this.parent.offsetWidth;this.canvas.height=this.parent.offsetHeight;this.canvas.style.display="block";this.canvas.style.backgroundColor="transparent";this.canvas.style.position="absolute";this.canvas.style.left=0;this.canvas.style.top=0;this.canvas.style.zIndex=99999;this.ctx=
this.canvas.getContext("2d");this.rows=d;this.font=new g(this.canvas.height/this.rows,"Arial");this.thread=new f};b.dom=e.document;var h=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(a){setTimeout(a,17)};b.prototype.show=function(){this.parent.appendChild(this.canvas)};b.prototype.hide=function(){this.parent.removeChild(this.canvas)};b.prototype.emit=function(a){var c=b.dom.createElement("canvas"),
d=c.getContext("2d");c.width=this.font.size*a.text.length;c.height=1.2*this.font.size;d.font=this.font.value;d.fillStyle="#fff";d.fillStyle=a.color;d.textAlign="start";d.textBaseline="top";d.fillText(a.text,0,0);this.thread.push({canvas:c,speed:Math.log(c.width),offset:{x:this.canvas.width,y:null}})};b.prototype.clear=function(){this.thread.empty()};b.prototype.start=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var a=0;a<this.thread.length;a++){var c=this.thread.get(a).offset.x+
.5|0,b;b=null==this.thread.get(a).offset.y?this.thread.get(a).offset.y=this.font.size*Math.floor(Math.random()*this.rows):this.thread.get(a).offset.y;this.ctx.drawImage(this.thread.get(a).canvas,c,b);this.thread.get(a).offset.x-=this.thread.get(a).speed;c<=-this.thread.get(a).canvas.width&&this.thread.remove(a)}h(function(a){return function(){a.start()}}(this))};var g=function(a,b){this.size=a;this.family=b};Object.defineProperty(g.prototype,"value",{get:function(){return this.size+"px "+this.family}});
var f=function(){this.memory=[]};f.prototype.push=function(a){this.memory.push(a)};f.prototype.get=function(a){return this.memory[a]};f.prototype.remove=function(a){this.memory.splice(a,1)};f.prototype.empty=function(){this.memory=[]};Object.defineProperty(f.prototype,"length",{get:function(){return this.memory.length}});e.Damoo=b})(window);