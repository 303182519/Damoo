/*! Damoo v1.0.0 | Copyright (c) 2015 James Liu | Released under the MIT license */
;(function(c){var a={};a.dom=c.document;a.canvas=a.dom.createElement("canvas");a.canvas.id="dm-canvas";a.canvas.style.display="block";a.canvas.style.cursor="none";a.canvas.style.backgroundColor="#000";a.show=function(b){var d=a.canvas;a.dom.getElementById(b).appendChild(d)};a.hide=function(b){var d=a.canvas;a.dom.getElementById(b).body.removeChild(d)};a.fullscreen=function(){a.canvas.requestFullscreen?a.canvas.requestFullscreen():a.canvas.mozRequestFullscreen?a.canvas.mozRequestFullscreen():a.canvas.webkitRequestFullscreen?
a.canvas.webkitRequestFullscreen():console.error("Fullscreen API is not supported.")};Object.defineProperty(a,"width",{get:function(){return a.canvas.width},set:function(b){a.canvas.width=b}});Object.defineProperty(a,"height",{get:function(){return a.canvas.height},set:function(b){a.canvas.height=b}});a.width=c.innerWidth;a.height=c.innerHeight;a.font={size:a.height/20,family:"Heiti"};a.ctx=a.canvas.getContext("2d");a.ctx.font=a.font.size+"px "+a.font.family;a.ctx.fillStyle="#fff";a.ctx.textAlign="end";
a.ctx.textBaseline="top";a.clear=function(){a.ctx.clearRect(0,0,a.width,a.height)};a.thread=[];a.emit=function(b){a.thread.push({text:b.text,color:b.color,time:(new Date).getTime(),offset:0})};a.start=function(){a.clear();for(var b=0;b<a.thread.length;b++){var d=a.width-a.thread[b].offset,c=a.thread[b].y=a.thread[b].y||a.font.size*b%a.height;a.ctx.fillStyle=a.thread[b].color;a.ctx.fillText(a.thread[b].text,d,c);a.thread[b].offset++;0>=d&&a.thread.splice(b,1)}setTimeout(a.start,1)};c.Damoo=a})(window);