/*! Damoo v1.0.2 | Copyright (c) 2015 James Liu | Released under the MIT license */
;(function(c){var a={};a.dom=c.document;a.canvas=a.dom.createElement("canvas");a.canvas.id="dm-canvas";a.canvas.style.display="block";a.canvas.style.cursor="none";a.canvas.style.backgroundColor="#000";a.canvas.width=c.innerWidth;a.canvas.height=c.innerHeight;a.show=function(b){var d=a.canvas;a.dom.getElementById(b).appendChild(d)};a.hide=function(b){var d=a.canvas;a.dom.getElementById(b).body.removeChild(d)};a.rows=20;a.font={size:a.canvas.height/a.rows,family:"Heiti"};a.ctx=a.canvas.getContext("2d");
a.ctx.font=a.font.size+"px "+a.font.family;a.ctx.fillStyle="#fff";a.ctx.textAlign="end";a.ctx.textBaseline="bottom";a.thread=[];a.emit=function(b){a.thread.push({text:b.text,color:b.color,speed:Math.sqrt(b.text.length)/1.5,offset:0})};a.start=function(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height);for(var b=0;b<a.thread.length;b++){var d=a.canvas.width-a.thread[b].offset,c=a.thread[b].y=a.thread[b].y||a.font.size*Math.ceil(Math.random()*a.rows),e=a.thread[b].text,f=a.thread[b].color,g=d;a.ctx.restore();
a.ctx.save();a.ctx.fillStyle=f;a.ctx.fillText(e,g,c);a.thread[b].offset+=a.thread[b].speed;0>=d&&a.thread.splice(b,1)}setTimeout(a.start,1)};c.Damoo=a})(window);